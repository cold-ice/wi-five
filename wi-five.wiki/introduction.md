The goal of this project is to identify which frequencies are emitted when running specific RISC-V assembly instructions on a [HiFive1](https://www.sifive.com/products/hifive1/) board, developed by SiFive. The fact that unwanted EM emissions can be exploited to perform side channel attacks is widely known and has been documented by the scientific community since many years[^1]. These attacks are particularly dangerous because they allow to bypass countermeasures against power analysis, because they may be performed remotely and because the necessary equipment is relatively low cost, while the amount of information they allow to disclose is particularly huge[^2].

In particular, this is due to the fact that EM emissions coming from embedded systems can span over a wide spectrum of frequencies. This poses the initial problem of this project, which is being capable of identifying all the frequencies emitted by the board under test. The second problem is to link the identified emissions with a specific operation, or, even better, a specific assembly instruction. This would allow us to identify the so called "bad instructions"[^2] which leak information in the frequency spectrum and allow side channel attacks or, even worse, template attacks[^3].

Of course, when it comes to spectrum analysis the best solution is to use dedicated equipment, such as a wide-band receiver. The purpose of this project, however, is to realize the software end of a simple and low cost system which is capable of identifying the frequencies emitted by the SiFive board and by any embedded system in general. During the experiments and the development process a [RTL-SDR dongle](https://www.rtl-sdr.com/about-rtl-sdr/) was employed, which is compatible with the [GNU Radio](https://www.gnuradio.org/) platform.

While GNU Radio, for the time being, is a mandatory component of this project, the dongle can be switched in favor of any other one which is compatible with GNU Radio, if it needs be. In this case, the software presented in this repository will have to be modified to be able to use a different dongle to capture EM information. Two antennas were used: a standard telescopic antenna and a hand crafted one which is particularly suited for micro-probing.

The [Setup](setup.md) section of this wiki guides the user through the installation procedures to be performed in order to be able to run the developed scripts. The other sections describe how the scripts have been developed, how they work and what could be done to improve them. A final section presents the experimental results obtained by analyzing the frequencies emitted by the SiFive board with the employed software and equipment.

[^1]: Gandolfi K., Mourtel C., Olivier F. (2001) Electromagnetic Analysis: Concrete Results. In: Koç Ç.K., Naccache D., Paar C. (eds) Cryptographic Hardware and Embedded Systems — CHES 2001. CHES 2001. Lecture Notes in Computer Science, vol 2162. Springer, Berlin, Heidelberg

[^2]: Agrawal D., Archambeault B., Rao J.R., Rohatgi P. (2003) The EM Side—Channel(s). In: Kaliski B.S., Koç .K., Paar C. (eds) Cryptographic Hardware and Embedded Systems - CHES 2002. CHES 2002. Lecture Notes in Computer Science, vol 2523. Springer, Berlin, Heidelberg

[^3]: Chari S., Rao J.R., Rohatgi P. (2003) Template Attacks. In: Kaliski B.S., Koç .K., Paar C. (eds) Cryptographic Hardware and Embedded Systems - CHES 2002. CHES 2002. Lecture Notes in Computer Science, vol 2523. Springer, Berlin, Heidelberg
